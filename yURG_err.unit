#!/usr/local/bin/koios
#   koios-polos (axis of heaven) unit testing meta-language



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
PREP          include the prototype headers                                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include yURG header                  yURG.h                      - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include yURG private header          yURG_priv.h                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
   incl       include yENV_uver                    yENV_uver.h                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [1a]  (ERR) verify changing error destination                            0s   dest            yURG_err_none, yURG_err_std, yURG_err_tmp, yURG_err_custom                   ((01.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yURG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     clear the errors                     yurg_rptg__test_clear                                                                                                             i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char       *x_argA [2]  = { "yURG_unit"    , "@@stderr"  };                                                                                                                                                                
     local    create working variable              - - - - - - - - - - - - -   char       *x_argB [2]  = { "yURG_unit"    , "@@tmperr"  };                                                                                                                                                                
     local    create working variable              - - - - - - - - - - - - -   char       *x_argC [2]  = { "yURG_unit"    , "@@noerror" };                                                                                                                                                                
     local    create working variable              - - - - - - - - - - - - -   char       *x_argD [3]  = { "yURG_unit"    , "@@errors"  , "/tmp/custom.err"    };                                                                                                                                         
     local    create working variable              - - - - - - - - - - - - -   char       *x_argE [3]  = { "yURG_unit"    , "@@errors"  , "/error.txt"         };                                                                                                                                         

   COND       check default setting                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  åstderræ                          y   0åæ                             

   COND       change to bitbucket                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch                               yURG_err_none                                                                                                                     i_equal     1                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/dev/nullæ                       y   0åæ                             

   COND       change to tmp error file                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch                               yURG_err_tmp                                                                                                                      i_equal     1                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y   0åæ                             

   COND       change to custom                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch                               yURG_err_custom             "/errors.txt"                                                                                         i_equal     1                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/errors.txtæ                     y   0åæ                             

   COND       change back to standard                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch                               yURG_err_std                                                                                                                      i_equal     1                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  åstderræ                          y   0åæ                             

   COND       change to tmp error file                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch using command line            yURG_logger                 2           , x_argB                                                                                  i_equal     0                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y   0åæ                             

   COND       change to bitbucket                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch using command line            yURG_logger                 2           , x_argC                                                                                  i_equal     0                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/dev/nullæ                       y   0åæ                             

   COND       change to custom                                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch using command line            yURG_logger                 3           , x_argD                                                                                  i_equal     0                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/custom.erræ                 y   0åæ                             

   COND       change to standard                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch using command line            yURG_logger                 2           , x_argA                                                                                  i_equal     0                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  åstderræ                          y   0åæ                             

   COND       change to another custom                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.011))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch using command line            yURG_logger                 3           , x_argE                                                                                  i_equal     0                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/error.txtæ                      y   0åæ                             

   COND       change to standard                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch using command line            yURG_logger                 2           , x_argA                                                                                  i_equal     0                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  åstderræ                          y   0åæ                             

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yURG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [1b]  (ERR) verify writing to errors                                     0s  literal         yURG_err, yURG_err_last, yURG_err_clear                                      ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yURG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     clear the errors                     yurg_rptg__test_clear                                                                                                             i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char        x_recd   [LEN_RECD] = "";                                                                                                                                                                                      

   COND       check default setting                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((01.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  åstderræ                          y   0åæ                             

   COND       change to tmp error file                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch                               yURG_err_tmp                                                                                                                      i_equal     1                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y   0åæ                             

   COND       write a major, literal error                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "%sFATAL, something went wrong%s", BOLD_ERR, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    'F'         , "something went wrong"                                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     1                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  0                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       write a level 1, literal error                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "  %s** FATAL, something went wrong%s", BOLD_ERR, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    YURG_FATAL1 , "something went wrong"                                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     2                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  1                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       write a level 2, literal error                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "    %s** FATAL, something went wrong%s", BOLD_ERR, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    YURG_FATAL2 , "something went wrong"                                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     3                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  2                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       clear the error entry                                              - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     clear error                          yURG_err_clear                                                                                                                    i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal                                                                                                          

   COND       write a major, literal warning                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "%swarning, something went wrong%s", BOLD_YEL, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    'W'         , "something went wrong"                                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     4                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  3                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       write a level 1, literal warning                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "  %s** warning, something went wrong%s", BOLD_YEL, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    YURG_WARN1  , "something went wrong"                                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     5                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  4                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       write a level 2, literal warning                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "    %s** warning, something went wrong%s", BOLD_YEL, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    YURG_WARN2  , "something went wrong"                                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     6                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  5                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       write a simple line, uncolored line                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.009))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "error from compiling with koios");                                                                                                                                                                            
     exec     generate error                       yURG_err                    ':'         , "error from compiling with koios"                                                       i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     error from compiling with koios                                                                      
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  31åerror from compiling with koiosæ
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     7                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  6                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove err file                      yURG_err_purge                                                                                                                    i_equal     0                                                                                                    
     exec     prepare for testing                  yURG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [1c]  (ERR) verify writing to errors                                     0s  variable        yURG_err, yURG_err_last, yURG_err_clear                                      ((02.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yURG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     clear the errors                     yurg_rptg__test_clear                                                                                                             i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char        x_recd   [LEN_RECD] = "";                                                                                                                                                                                      

   COND       change to tmp error file                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch                               yURG_err_tmp                                                                                                                      i_equal     1                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y   0åæ                             

   GROUP      check various options for formatting                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       write a simple message                                             - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.012))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "%sFATAL, harsh%s", BOLD_ERR, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    'F'         , "%s"                         , "harsh"                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     harsh                                                                                                
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y   5åharshæ                        
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     1                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  0                                                                     s_equal     [[ x_recd ]]                                                                                    

   COND       write a more formatted message                                     - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.013))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "%sFATAL,  32:testing a line         y%s", BOLD_ERR, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    'F'         , "%3d:%-20.20s   %c"          , 32   , "testing a line"            , 'y'                 i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     ¬32:testing a line         y                                                                         
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  28å 32:testing a line         yæ 
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     2                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  1                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       write a more traditional message                                   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.014))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "%swarning, you really blew it%s", BOLD_YEL, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    'W'         , "you really blew it"                                                                    i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     you really blew it                                                                                   
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  18åyou really blew itæ           
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     3                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  2                                                                     s_equal     [[ x_recd ]]                                                                                         

   GROUP      complete                                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   - - - - -   - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       remove the testing file                                            - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.015))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove err file                      yURG_err_purge                                                                                                                    i_equal     0                                                                                                    
     exec     remove msg file                      yURG_msg_purge                                                                                                                    i_equal     0                                                                                                    

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((02.016))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yURG__unit_end                                                                                                                    i_equal     0                                                                                                    



#23456789-12  123456789-123456789-123456789-12345  123456789-123456789-123456  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-  123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-123456789-  123456789-123456789- 
#==(verb)===  ===========(description)===========  =====(function)===========  ========================(arguments)=================================================================  ==(test)==  ==========================(results)=================================================================  ========(var)======= 
SCRP    [1d]  (ERR) verify error muting                                          0s  mute            yURG_err_mute, yURG_err_live                                                 ((03.---))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  

   COND       prepare for run                                                    - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.001))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     prepare for testing                  yURG__unit_quiet                                                                                                                  i_equal     0                                                                                                    
     exec     clear the errors                     yurg_rptg__test_clear                                                                                                             i_equal     0                                                                                                    
     local    create working variable              - - - - - - - - - - - - -   char        x_recd   [LEN_RECD] = "";                                                                                                                                                                                      

   COND       change to tmp error file                                           - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.002))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     switch                               yURG_err_tmp                                                                                                                      i_equal     1                                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y   0åæ                             

   COND       write a major, literal error                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.003))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "%sFATAL, something went wrong%s", BOLD_ERR, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    'F'         , "something went wrong"                                                                  i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     1                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  0                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       mute error writing                                                 - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.004))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     mute                                 yURG_err_mute                                                                                                                     i_equal     1                                                                                                    

   COND       write another error                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.005))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     generate error                       yURG_err                    'F'         , "CRAZY MESSAGE"                                                                         i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 -  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     1                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  0                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       write another error                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.006))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     generate error                       yURG_err                    YURG_WARN1  , "SIMPLE WARNING"                                                                        i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     something went wrong                                                                                 
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 -  20åsomething went wrongæ         
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     1                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  0                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       unmute error writing                                               - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.007))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     unmute                               yURG_err_live                                                                                                                     i_equal     1                                                                                                    

   COND       write another error                                                - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.008))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     code     create output expected               - - - - - - - - - - - - -   sprintf (x_recd, "  %s** warning, wrap up this test%s", BOLD_YEL, BOLD_OFF);                                                                                                                                                        
     exec     generate error                       yURG_err                    YURG_WARN1  , "wrap up this test"                                                                     i_equal     0                                                                                                    
     get      ... last error                       yURG_err_last                                                                                                                     s_equal     wrap up this test                                                                                    
     get      ... error setting                    yurg_err__unit              "result"    ,  0                                                                                      s_equal     ERR result       : ¬¬¬¬¬¬¬¬¬¬  å/tmp/errors.txtæ                 y  17åwrap up this testæ            
     get      ... check output count               yENV_ulines                 YURG_ERR                                                                                              i_equal     2                                                                                                    
     get      ... check actual result              yENV_upeek                  YURG_ERR                     ,  1                                                                     s_equal     [[ x_recd ]]                                                                                         

   COND       end the test                                                       - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -   ((03.010))  - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -  
     exec     remove err file                      yURG_err_purge                                                                                                                    i_equal     0                                                                                                    
     exec     prepare for testing                  yURG__unit_end                                                                                                                    i_equal     0                                                                                                    



# end-of-file.  done, finito, completare, whimper [Ï´···
